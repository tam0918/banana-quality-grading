% ==============================================================================
% PHỤ LỤC
% ==============================================================================

\appendix

\chapter{PHÂN CÔNG CÔNG VIỆC}
\label{app:task_assignment}

\section{Bảng phân công chi tiết}

\begin{table}[H]
\centering
\caption{Phân công công việc giữa các thành viên}
\label{tab:task_assignment}
\begin{tabular}{@{}clcl@{}}
\toprule
\textbf{STT} & \textbf{Công việc} & \textbf{Người thực hiện} & \textbf{Tỉ lệ} \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Nghiên cứu \& Thiết kế}} \\
\midrule
1 & Nghiên cứu lý thuyết YOLO & Lường Văn Tâm & 60\% \\
  &                          & Khương Thanh Tín & 40\% \\
\midrule
2 & Khảo sát dataset & Lường Văn Tâm & 50\% \\
  &                  & Khương Thanh Tín & 50\% \\
\midrule
3 & Thiết kế kiến trúc hệ thống & Lường Văn Tâm & 70\% \\
  &                              & Khương Thanh Tín & 30\% \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Phát triển \& Cài đặt}} \\
\midrule
4 & Phát triển module BananaAnalyzer & Lường Văn Tâm & 80\% \\
  &                                  & Khương Thanh Tín & 20\% \\
\midrule
5 & Phát triển module Grader & Lường Văn Tâm & 70\% \\
  &                          & Khương Thanh Tín & 30\% \\
\midrule
6 & Phát triển giao diện UI & Lường Văn Tâm & 50\% \\
  &                          & Khương Thanh Tín & 50\% \\
\midrule
7 & Viết script huấn luyện & Lường Văn Tâm & 60\% \\
  &                        & Khương Thanh Tín & 40\% \\
\midrule
8 & Xử lý video \& threading & Lường Văn Tâm & 70\% \\
  &                          & Khương Thanh Tín & 30\% \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Thử nghiệm \& Đánh giá}} \\
\midrule
9 & Huấn luyện \& fine-tune model & Lường Văn Tâm & 50\% \\
  &                                & Khương Thanh Tín & 50\% \\
\midrule
10 & Viết test cases & Lường Văn Tâm & 40\% \\
   &                 & Khương Thanh Tín & 60\% \\
\midrule
11 & Đánh giá \& phân tích kết quả & Lường Văn Tâm & 60\% \\
   &                                & Khương Thanh Tín & 40\% \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Tài liệu \& Báo cáo}} \\
\midrule
12 & Viết báo cáo LaTeX & Lường Văn Tâm & 60\% \\
   &                    & Khương Thanh Tín & 40\% \\
\midrule
13 & Viết README \& documentation & Lường Văn Tâm & 50\% \\
   &                               & Khương Thanh Tín & 50\% \\
\midrule
14 & Chuẩn bị slide thuyết trình & Lường Văn Tâm & 50\% \\
   &                              & Khương Thanh Tín & 50\% \\
\bottomrule
\end{tabular}
\end{table}

\section{Tổng hợp đóng góp}

\begin{table}[H]
\centering
\caption{Tổng hợp tỉ lệ đóng góp}
\label{tab:contribution_summary}
\begin{tabular}{@{}lcc@{}}
\toprule
\textbf{Thành viên} & \textbf{MSV} & \textbf{Tỉ lệ đóng góp} \\
\midrule
Lường Văn Tâm & 22001349 & 60\% \\
Khương Thanh Tín & 22001349 & 40\% \\
\midrule
\textbf{Tổng} & & \textbf{100\%} \\
\bottomrule
\end{tabular}
\end{table}

\chapter{HƯỚNG DẪN CÀI ĐẶT VÀ SỬ DỤNG}
\label{app:installation_guide}

\section{Yêu cầu hệ thống}

\begin{itemize}
    \item \textbf{Hệ điều hành}: Windows 10/11, Linux (Ubuntu 20.04+), macOS 11+
    \item \textbf{Python}: Phiên bản 3.9 trở lên
    \item \textbf{RAM}: Tối thiểu 8GB, khuyến nghị 16GB
    \item \textbf{GPU}: Không bắt buộc, nhưng khuyến nghị NVIDIA GPU với CUDA
    \item \textbf{Webcam}: Độ phân giải tối thiểu 720p
\end{itemize}

\section{Các bước cài đặt}

\subsection{Bước 1: Clone repository}

\begin{lstlisting}[language=bash]
git clone https://github.com/tam0918/banana-quality-grading.git
cd banana-quality-grading
\end{lstlisting}

\subsection{Bước 2: Tạo môi trường ảo}

\begin{lstlisting}[language=bash]
# Windows
python -m venv .venv
.\.venv\Scripts\activate

# Linux/macOS
python3 -m venv .venv
source .venv/bin/activate
\end{lstlisting}

\subsection{Bước 3: Cài đặt dependencies}

\begin{lstlisting}[language=bash]
pip install -r requirements.txt
\end{lstlisting}

\subsection{Bước 4: Chuẩn bị font tiếng Việt}

\begin{lstlisting}[language=bash]
# Copy font vao thu muc assets/fonts/
# Hoac su dung font Windows co san
# Neu khong co font, app se fallback sang tieng Anh
\end{lstlisting}

\subsection{Bước 5: Kiểm tra setup}

\begin{lstlisting}[language=bash]
python check_setup.py
\end{lstlisting}

\subsection{Bước 6: Chạy ứng dụng}

\begin{lstlisting}[language=bash]
python main.py
\end{lstlisting}

\section{Hướng dẫn huấn luyện model}

\subsection{Huấn luyện classifier từ Kaggle dataset}

\begin{lstlisting}[language=bash]
# Cau hinh Kaggle API
# Dat kaggle.json tai: %USERPROFILE%/.kaggle/kaggle.json

# Chay script train
python training_kaggle_classification.py --device auto --epochs 50
\end{lstlisting}

\subsection{Copy weights sau khi train}

\begin{lstlisting}[language=bash]
# Windows
copy runs_banana\yolov8n_banana_cls\weights\best.pt weights\best.pt

# Linux/macOS
cp runs_banana/yolov8n_banana_cls/weights/best.pt weights/best.pt
\end{lstlisting}

\chapter{MÃ NGUỒN}
\label{app:source_code}

Toàn bộ mã nguồn của dự án được công khai trên GitHub:

\begin{center}
\large
\textbf{\url{https://github.com/tam0918/banana-quality-grading}}
\end{center}

\vspace{0.5cm}

Repository bao gồm:
\begin{itemize}
    \item \textbf{app/}: Các module chính của ứng dụng (BananaAnalyzer, Grader, UI Manager, Video Thread)
    \item \textbf{utils/}: Các tiện ích hỗ trợ (Resource Manager)
    \item \textbf{weights/}: Model weights đã huấn luyện
    \item \textbf{tests/}: Test cases và dữ liệu kiểm thử
    \item \textbf{report/}: Báo cáo LaTeX
    \item \textbf{slides/}: Slide thuyết trình
    \item \textbf{main.py}: Entry point của ứng dụng
    \item \textbf{training\_kaggle\_classification.py}: Script huấn luyện model
    \item \textbf{requirements.txt}: Danh sách dependencies
    \item \textbf{README.md}: Hướng dẫn sử dụng
\end{itemize}

\vspace{0.5cm}

Để clone và chạy dự án:
\begin{lstlisting}[language=bash]
git clone https://github.com/tam0918/banana-quality-grading.git
cd banana-quality-grading
pip install -r requirements.txt
python main.py
\end{lstlisting}

\chapter{KẾT QUẢ HUẤN LUYỆN CHI TIẾT}
\label{app:training_results}

\section{Training log từ YOLOv8}

\begin{table}[H]
\centering
\scriptsize
\caption{Chi tiết kết quả huấn luyện 50 epoch}
\label{tab:full_training_log}
\begin{tabular}{@{}ccccccc@{}}
\toprule
\textbf{Epoch} & \textbf{Time (s)} & \textbf{Train Loss} & \textbf{Val Loss} & \textbf{Top-1} & \textbf{Top-5} & \textbf{LR} \\
\midrule
1 & 109.7 & 0.6867 & 0.1191 & 96.35\% & 100\% & 4.12e-4 \\
5 & 458.4 & 0.0893 & 0.1118 & 96.79\% & 100\% & 1.15e-3 \\
10 & 894.9 & 0.0537 & 0.0933 & 97.33\% & 100\% & 1.03e-3 \\
15 & 1326.7 & 0.0408 & 0.0673 & 98.66\% & 100\% & 9.04e-4 \\
20 & 1755.4 & 0.0326 & 0.0623 & 98.66\% & 100\% & 7.80e-4 \\
25 & 2188.0 & 0.0280 & 0.0577 & 98.66\% & 100\% & 6.56e-4 \\
30 & 2652.2 & 0.0218 & 0.1002 & 98.40\% & 100\% & 5.32e-4 \\
35 & 3079.6 & 0.0176 & 0.0695 & 98.58\% & 100\% & 4.09e-4 \\
40 & 3506.3 & 0.0173 & 0.0638 & 98.66\% & 100\% & 2.85e-4 \\
45 & 3935.3 & 0.0116 & 0.0699 & 98.66\% & 100\% & 1.61e-4 \\
50 & 4363.7 & 0.0096 & 0.0752 & 98.75\% & 100\% & 3.73e-5 \\
\bottomrule
\end{tabular}
\end{table}

\section{Cấu hình huấn luyện (args.yaml)}

\begin{lstlisting}[language=yaml,caption={Cấu hình huấn luyện từ args.yaml},label={lst:args_yaml}]
task: classify
mode: train
model: yolov8n-cls.pt
data: datasets\kaggle_banana_ripeness
epochs: 50
patience: 100
batch: -1
imgsz: 416
save: true
cache: false
device: '0'
workers: 0
project: runs_banana
name: yolov8n_banana_cls3
pretrained: true
optimizer: auto
verbose: true
seed: 0
deterministic: true
amp: true
val: true
split: val
plots: true
\end{lstlisting}

\clearpage
